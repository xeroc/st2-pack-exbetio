---
name: chatops.checkout_ansible_git
#action_ref: exbetio.ansible_clone
action_ref: git.clone
immutable_parameters:
 source: git@bitbucket.org:exbet/ansible.git
 ref: master
 destination: /opt/stackstorm-data/exbetio-ansible
description: Checkout exbet.io ansible repo
formats:
  - display: devops init-repo
    representation:
      - devops init-repo
result:
  format: |
    {% if execution.status == 'succeeded' -%}
     Cloning done
    {% else %}
    *Exit Code:* `{{ execution.result.return_code }}`
    *Stderr:* ```{{ execution.result.stderr }}```
    *Stdout:* ```{{ execution.result.stdout }}```
    {% endif %}
  extra:
    slack:
      color: "{% if execution.result.succeeded %}good{% else %}danger{% endif %}"
      footer: "{{ execution.id }}"
      footer_icon: "https://stackstorm.com/wp/wp-content/uploads/2015/01/favicon.png"
